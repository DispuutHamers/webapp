<% content_for :title do %>
  <%= @chugtype.name %> <%= @chugtype.amount %> ml
<% end %>

<% content_for :options do %>
  <ul role="list" class="flex justify-center space-x-5">
    <li>
      <%= button_to edit_chugtype_path(@chugtype), method: :get, class: "cursor-pointer px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-hamers-red-500" do %>
        <span class="sr-only">edit</span>
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"/>
        </svg>
      <% end %>
    </li>
    <li>
      <%= button_to @chugtype, method: :delete, data: { confirm: 'Weet je het zeker?' }, class: "cursor-pointer px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-hamers-red-500" do %>
        <span class="sr-only">destroy</span>
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/>
        </svg>
      <% end %>
    </li>
  </ul>
<% end %>

<div class="divide-y divide-gray-200 -my-6 md:grid md:grid-cols-12 md:divide-y-0 md:divide-x">
  <aside class="ml-6 py-6 md:col-span-4 md:pr-6">
    Ben jij de volgende die een <%= @chugtype.name.downcase %> van <%= @chugtype.amount %> ml in één keer leeg gaat
    trekken?
    <div class="flex justify-center mt-5" style="margin-left: -2rem;">
      <%= button_to "Adt!", new_chug_path(@chugtype), method: :get, class: submit_classes %>
    </div>
  </aside>

  <div class='md:col-span-8 md:pl-6 py-6'>
    <aside class="ml-6 py-6 md:col-span-4 md:pr-6">
      <% if @chugs.any? %>

        <ul role="list" class="divide-y divide-gray-200">
          <% @chugs.each_with_index do |chug, index| %>
            <% if index == 0 %>
              <li class="podium">
                <div class="relative z-0 w-3/12 mt-4">
                  <img src="/assets/medal_gold.png">
                  <div class="absolute inset-0 flex justify-center items-center z-10">
                    <%= link_to chug.user, class: "mt-2 self-center" do %>
                      <% gravatar_for chug.user, class: "w-full rounded-full" %>
                    <% end %>
                  </div>
                  <div class="absolute inset-0 flex justify-center z-9 -mt-4">
                    <strong><%= chug.secs %>.<%= chug.milis %>s</strong>
                  </div>
                </div>
              </li>
            <% end %>
            <% if index == 1 %>
              <li class="podium-2">
                <%= chug.user.name %>
              </li>
            <% end %>
            <% if index == 2 %>
              <li class="podium-3">
                <%= chug.user.name %>
              </li>
            <% end %>
            <% if index > 2 %>
            <li class="py-4">
              <div class="flex space-x-3 text-sm">
                <%= link_to chug.user, class: "self-center" do %>
                  <% gravatar_for chug.user, class: "h-8 w-8 rounded-full" %>
                <% end %>
                <div class="flex-col flex-1">
                  <div class="flex flex-col sm:flex-row justify-between self-center">
                    <h3 class="flex-grow font-medium"><%= chug.secs %>.<%= chug.milis %></h3>
                    <span class="relative z-0 inline-flex rounded-md">
                      <%= link_to edit_chug_path(chug), class: 'inline-flex items-center p-1 border border-gray-300 text-xs font-medium rounded-l-md text-gray-900 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-hamers-red-500' do %>
                        <%= heroicon('pencil', class_name: "h-4 w-4") %> <span class="sm:hidden">Wijzigen</span>
                      <% end %>
                                  <%= link_to chug, method: :delete, data: { confirm: 'Weet je het zeker?' }, title: chug.user.name,
                                              class: '-ml-px inline-flex items-center p-1 border border-gray-300 text-xs font-medium rounded-r-md text-gray-900 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-hamers-red-500' do %>
                        <%= heroicon('trash', class_name: "h-4 w-4") %> <span class="sm:hidden">Verwijderen</span>
                      <% end %>
                    </span>
                  </div>
                  <div class="flex flex-col sm:flex-row text-gray-500">
                    <div class="flex-grow"><%= chug.user.name %></div>
                    <p><%= time_ago_in_words(chug.created_at) %> geleden.</p>
                  </div>
                </div>
              </div>
            </li>
            <% end %>

          <% end %>
        </ul>
      <% else %>
        Wat een geluk, jij bent de eerste die een <%= @chugtype.name.downcase %> mag gaan adten!
      <% end %>
    </aside>
  </div>
</div>

<style>

</style>
