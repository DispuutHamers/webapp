<%= form_for @sticker do |f| %>
  <div class="form-group">
    <%= f.label :latitude %>
    <%= f.text_field :lat, id: 'lat', class: 'form-control', pattern: '-?\d*\.\d*', required: true %>
    <%= @sticker.errors.full_messages_for(:lat).first[3..] if @sticker.errors[:lat].any? %>
  </div>
  <div class="form-group">
    <%= f.label :longitude %>
    <%= f.text_field :lon, id: 'lon', class: 'form-control', pattern: '-?\d*\.\d*', required: true %>
    <%= @sticker.errors.full_messages_for(:lon).first[3..] if @sticker.errors[:lon].any? %>
  </div>
  <div class="form-group">
    <%= f.label :notes %>
    <%= f.text_area :notes, class: 'form-control' %>
  </div>
  <div class="actions">
    <div class="btn-group">
      <%= f.submit :Verstuur, class: 'btn btn-primary' %>
      <button class="btn btn-default" onclick="getLocation()">Get location</button>
    </div>
  </div>
<% end %>

<script type="application/javascript">
    function getLocation() {
        if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(showPosition);
        } else {
            x.innerHTML = "Geolocation is not supported by this browser.";
        }
    }

    function showPosition(position) {
        document.getElementById("lat").value = position.coords.latitude;
        document.getElementById("lon").value = position.coords.longitude;
    }
</script>
